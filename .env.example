# =====================================================
# DepegAlert Bot - Environment Configuration
# =====================================================
# Copy this file to .env and update with your values
# For quick start: Use the DEVELOPMENT QUICKSTART section below

# ================================
# CORE TELEGRAM CONFIGURATION (REQUIRED)
# ================================

# Bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather

# Channel ID for public alerts (e.g., -1001234567890)
# Create a public channel and add your bot as admin
ALERT_CHANNEL_ID=-1001234567890

# Premium channel ID (optional for premium features)
PREMIUM_CHANNEL_ID=-1009876543210

# ================================
# DATABASE CONFIGURATION
# ================================

# PostgreSQL database URL for production
DATABASE_URL=postgresql://depeg_user:your_secure_password@localhost:5432/depeg_alert

# Alternative SQLite for development (comment out DATABASE_URL above)
# DATABASE_URL=sqlite:///depeg_alert.db

# Database connection settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
SQL_DEBUG=false

# Docker PostgreSQL settings
POSTGRES_PASSWORD=depeg_secure_password_2024

# ================================
# REDIS CONFIGURATION
# ================================

# Redis URL for caching and sessions
REDIS_URL=redis://:your_redis_password@localhost:6379
REDIS_PASSWORD=redis_secure_password_2024

# ================================
# ALERT THRESHOLDS
# ================================

# Free tier alert threshold (percentage)
FREE_THRESHOLD_PERCENT=0.5

# Premium tier alert threshold (percentage)
PREMIUM_THRESHOLD_PERCENT=0.2

# Warning threshold (percentage)
WARNING_THRESHOLD_PERCENT=0.2

# Critical threshold (percentage)
CRITICAL_THRESHOLD_PERCENT=2.0

# Cooldown periods (minutes)
FREE_COOLDOWN_MINUTES=30
PREMIUM_COOLDOWN_MINUTES=5

# ================================
# API CONFIGURATION
# ================================

# Price check interval (seconds)
CHECK_INTERVAL_SECONDS=60

# API timeouts and limits
API_TIMEOUT_SECONDS=30
RATE_LIMIT_PER_MINUTE=50
COINGECKO_BASE_URL=https://api.coingecko.com/api/v3

# ================================
# SECURITY CONFIGURATION
# ================================

# Rate limiting for user requests
MAX_REQUESTS_PER_MINUTE=10
RATE_LIMIT_WINDOW_SECONDS=60
MAX_MESSAGE_LENGTH=4096

# Security features
LOG_USER_REQUESTS=true
VALIDATE_INPUTS=true

# ================================
# LOGGING & MONITORING
# ================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Debug settings
DEBUG=false

# Monitoring server
MONITORING_HOST=0.0.0.0
MONITORING_PORT=8080
ENABLE_MONITORING=true
ENABLE_METRICS=true

# ================================
# ERROR TRACKING
# ================================

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development

# ================================
# FEATURE FLAGS
# ================================

# Enable premium features
ENABLE_PREMIUM_FEATURES=true

# Enable advanced monitoring
ENABLE_ADVANCED_MONITORING=false

# ================================
# EXTERNAL SERVICES
# ================================

# Web dashboard URL
WEB_URL=https://stablepeg.xyz

# Grafana admin password (for monitoring stack)
GRAFANA_PASSWORD=admin

# ================================
# DEVELOPMENT QUICKSTART
# ================================
# For quick local development, use these minimal settings:
#
# TELEGRAM_BOT_TOKEN=your_bot_token_here
# ALERT_CHANNEL_ID=your_channel_id_here
# DATABASE_URL=sqlite:///depeg_alert.db
# LOG_LEVEL=DEBUG
# ENVIRONMENT=development

# ================================
# SETUP INSTRUCTIONS
# ================================
# 1. Copy: cp .env.example .env
# 2. Get bot token: https://t.me/botfather
# 3. Create channel and add bot as admin
# 4. Set up database (PostgreSQL recommended for production)
# 5. For SQLite development: Use DATABASE_URL=sqlite:///depeg_alert.db
# 6. Run: python -m bot.main
#
# Full setup guide: See README.md
# ================================